load_module /Users/raminf/work/Projects/RoboNope/build/nginx-1.24.0/objs/ngx_http_robonope_module.so;
events { worker_connections 1024; }
http {
    include mime.types;
    default_type application/octet-stream;
    # RoboNope configuration
    robonope_enable on;
    robonope_robots_path /Users/raminf/work/Projects/RoboNope/build/demo/html/robots.txt;
    robonope_db_path /Users/raminf/work/Projects/RoboNope/build/demo/db/robonope.db;
    # Rate limiting zones
    limit_req_zone $binary_remote_addr zone=robonope_limit:10m rate=1r/s;
    server {
        listen 8080;
        server_name localhost;
        root html;
        # Rate limiting for disallowed paths
        location ~ ^/(norobots|private|admin|secret-data|internal)/ {
            limit_req zone=robonope_limit burst=5 nodelay;
            robonope_enable on;
        }
        # Default location
        location / {
            robonope_enable on;
        }
    }
}
